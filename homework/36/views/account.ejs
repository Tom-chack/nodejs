
<%- include('header.ejs') %>

        <div id="main">

            <div id="profileInfo" class="row mb-2 p-2">
                <div class="col-sm-1" style="display: flex; justify-content: start; align-items: center;">
                    <img id="userPhoto" src="/images/photos/<%= user.photo %>" style="max-width: 50px; max-height: 50px;">
                </div>
                <div>
                    <h4 style="margin: 0; padding: 0;"><%= user.username %></h4>
                    <div class="_edit">
                        <label for="fieldPhoto">Change Photo: </label> 
                        <input type="file" name="photo" id="fieldPhoto" class="border" style="width:200px;"/>
                        <button id="savePhoto" class="btn btn-outline-secondary btn-sm" style="padding:2px 10px;vertical-align: top;">Save</button>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-8 border p-4">
                    <div id="_messages" class="mt-1 mb-3">
                        <h5>
                            User Messages &nbsp; 
                            <div class="d-inline-block">
                                <button id="startChat" type="button" class="btn btn-success btn-sm" data-room="general">Start Chat</button>
                                <a href="?room=room_1" class="btn btn-info btn-sm" data-room="room_1">Room 1</a>
                                <a href="?room=room_2" class="btn btn-info btn-sm" data-room="room_2">Room 2</a>
                                <a id="endChat" href="/auth/account" class="btn btn-warning btn-sm">End Chat</a>
                            </div>
                        </h5>
                        <div id="chatbox" style="width: 100%; padding: 10px; overflow-y: auto; height: 200px; background: #f5f5f5; border: 1px dashed #ccc;">
                            <div id="noMessages" class="_message border-bottom-1 mb-2 p-2" data-id="" style="background-color: #fff;">No messages!</div>
                        </div>
                    </div>
                    <div id="messageForm">
                        <div id="_form" class="d-flex">
                            <textarea style="width: 80%;" row="5"></textarea>
                            <button style="width: 20%;" type="button" class="btn btn-success">Send message</button>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 border p-4">
                    <h5>Online Users</h5>
                    <div id="online">
                        <div id="noUsers">No online users</div>
                    </div>
                </div>
            </div>

        </div>
    
<%- include('footer.ejs') %>
